# 品牌配置系统 - 快速开始指南
# Brand Configuration System - Quick Start Guide

## 🚀 快速开始

### 1. 环境配置

在项目根目录创建 `.env.local` 文件：

```bash
# Supabase 配置
NEXT_PUBLIC_SUPABASE_URL=你的_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=你的_supabase_anon_key

# Admin 密码
ADMIN_PASSWORD=123456
```

### 2. 数据库初始化

1. 打开 Supabase Dashboard: https://app.supabase.com
2. 进入你的项目 → SQL Editor
3. 复制 `/scripts/init-database.sql` 的内容
4. 粘贴并执行 SQL 脚本

### 3. 启动开发服务器

```bash
pnpm dev
```

访问: http://localhost:3000

### 4. 访问管理后台

访问: http://localhost:3000/zh/dashboard

输入密码: `123456`

---

## 📊 管理功能

### Tab 1: 查看配置

查看当前品牌的所有配置信息：
- 品牌名称（中英文）
- 域名
- 全局邮箱
- 联系方式列表及启用状态
- 推荐码列表

### Tab 2: 基本信息

编辑品牌基本信息：
- ✏️ 品牌名称（中文）
- ✏️ 品牌名称（英文）
- ✏️ 域名
- ✏️ 全局邮箱

点击"保存"后会自动刷新页面应用更改。

### Tab 3: 联系方式

管理 Footer 左下角的联系方式：
- ✏️ 启用/禁用每个联系方式
- ✏️ 编辑微信号、Telegram链接、电话号码
- 📧 邮箱使用全局邮箱（在基本信息中设置）

**支持的联系方式：**
- 📧 邮箱（Email）
- 💬 微信（WeChat）- 支持二维码
- ✈️ Telegram
- 📱 电话（Phone）
- 🎥 YouTube
- 🐦 X (Twitter)
- 📷 Instagram
- 👥 Facebook
- 🎵 抖音（TikTok）
- 📕 小红书（Xiaohongshu）
- 💚 LINE
- 💬 WhatsApp

### Tab 4: 推荐码

管理 Footer 右侧的合作伙伴推荐码：
- ✏️ 添加新推荐码
- ✏️ 编辑现有推荐码
- ❌ 删除推荐码

**每个推荐码包含：**
- 平台名称（中英文）
- 推荐码
- 推荐链接
- 优惠信息（中英文）

**示例配置：**
| 平台 | 推荐码 | 优惠 |
|------|--------|------|
| Binance | 71591417 | 5%优惠 |
| FundedNext | fx_killer | 5%优惠 |
| EC Markets | 99R9C | 全返 |
| TickMill | IB47958600 | 全返 |

### Tab 5: Footer横幅

管理 Footer 底部的广告横幅：
- ✏️ 添加新横幅
- ✏️ 编辑横幅信息
- ❌ 删除横幅
- ⚙️ 显示/隐藏横幅

**每个横幅包含：**
- 横幅名称
- 图片 URL（使用 CDN 链接）
- 链接 URL
- 实时预览

**示例配置：**
```json
{
  "name": "FTMO",
  "image_url": "https://cdn.ftmo.com/ed1811ad91444ae687a19020a9997a86",
  "link_url": "https://ftmo.com/?affiliates=UUdNjacFYttdgsZcEozt"
}
```

### Tab 6: SEO

管理网站的 SEO 配置：
- ✏️ 标题模板（中英文）
- ✏️ SEO 描述（中英文）
- ✏️ SEO 关键词（中英文，逗号分隔）
- ✏️ OG 图片 URL

**标题模板变量：**
- `{title}` - 页面标题
- `{keywords}` - 从关键词列表随机选择2个

**示例模板：**
```
中文: {title}丨汇刃丨{keywords}
英文: {title}丨FX Killer丨{keywords}
```

### Tab 7: 预设

管理品牌配置预设：
- 💾 保存当前配置为新预设
- 🔄 应用已保存的预设
- ❌ 删除预设（默认预设 "fxkiller" 不可删除）

**使用场景：**
- 在不同品牌之间快速切换
- 保存实验性配置方案
- 备份当前配置

---

## 🎯 常见操作

### 修改品牌名称

1. 进入 **基本信息** Tab
2. 修改"品牌名称（中文）"和"品牌名称（英文）"
3. 点击"保存基本信息"
4. 页面自动刷新

### 添加新的推荐码

1. 进入 **推荐码** Tab
2. 点击"+ 添加推荐码"
3. 填写：
   - 平台名称（中英文）
   - 推荐码
   - 推荐链接
   - 优惠信息（可选）
4. 点击"保存推荐码"

### 启用微信联系方式

1. 进入 **联系方式** Tab
2. 找到"💬 微信"卡片
3. 勾选"启用"复选框
4. 填写微信号（如：fx_killer_wechat）
5. 点击"保存联系方式"

### 修改 Footer 横幅

1. 进入 **Footer横幅** Tab
2. 编辑现有横幅或点击"+ 添加横幅"
3. 填写：
   - 横幅名称（如：FTMO）
   - 图片 URL（使用 CDN 链接）
   - 链接 URL
4. 点击"保存 Footer 横幅"

### 更新 SEO 配置

1. 进入 **SEO** Tab
2. 修改标题模板、描述、关键词
3. 点击"保存 SEO 配置"

---

## ⚠️ 注意事项

### 保存和刷新

所有配置保存后会：
1. 更新数据库
2. 清除服务端缓存
3. 自动刷新页面（1.5秒后）

### 配置验证

- **推荐码链接**: 必须是有效的 URL
- **Footer 横幅**: 图片 URL 建议使用 CDN 链接
- **SEO 关键词**: 用逗号分隔，保存时会自动去除空格

### 图片资源

Footer 横幅推荐使用网络 CDN 图片：
- ✅ 使用 CDN: `https://cdn.ftmo.com/banner.png`
- ❌ 避免本地路径: `/public/images/banner.png`

### 预设管理

- 默认预设 "fxkiller" 受保护，无法删除
- 预设名称只能包含字母、数字、下划线
- 应用预设会覆盖当前所有配置

---

## 🔧 故障排查

### 保存失败

**问题**: 点击保存后显示"保存失败"

**解决方案**:
1. 检查网络连接
2. 检查 `.env.local` 中的 Supabase 配置
3. 打开浏览器控制台查看错误信息
4. 确认数据库已正确初始化

### 横幅图片不显示

**问题**: Footer 横幅区域空白

**解决方案**:
1. 检查图片 URL 是否可访问
2. 检查"显示横幅"开关是否已启用
3. 检查图片 URL 是否需要 CORS 配置
4. 尝试在浏览器直接访问图片 URL

### 配置未生效

**问题**: 修改配置后前端未更新

**解决方案**:
1. 等待页面自动刷新（1.5秒）
2. 手动刷新浏览器（Cmd+Shift+R / Ctrl+Shift+R）
3. 清除浏览器缓存
4. 检查是否有多个标签页打开

### 预设切换失败

**问题**: 应用预设后报错

**解决方案**:
1. 确认预设在数据库中存在
2. 检查预设数据完整性
3. 查看浏览器控制台错误信息

---

## 📚 相关文档

- **数据库初始化**: `DATABASE_INIT_GUIDE.md`
- **环境配置**: `ENV_SETUP.md`
- **测试报告**: `BRAND_TESTING.md`
- **测试清单**: `TEST_CHECKLIST.md`

---

## 💡 最佳实践

1. **保存配置前**:
   - 检查所有必填字段
   - 验证 URL 格式
   - 预览效果

2. **修改 SEO 配置时**:
   - 保持标题简洁（<60字符）
   - 描述清晰有吸引力（<160字符）
   - 关键词选择相关性高的

3. **管理推荐码**:
   - 定期检查推荐链接有效性
   - 保持优惠信息更新
   - 使用易记的推荐码

4. **使用预设**:
   - 在做重大更改前保存当前配置
   - 为预设使用描述性名称
   - 定期清理不用的预设

---

**🎉 开始使用品牌配置系统，让网站管理更轻松！**
